(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[51],{1122:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var r=a(9),o=a(302),n=a(684),c=a(597),l=a(300),i=a(517),s=a(89),d=a(612),b=a(1),u=a(7),p=a(158),m=a(2);const j=Object(u.a)(d.a)((()=>({width:"30%",marginBottom:"16px"}))),h=Object(u.a)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[t.breakpoints.down("sm")]:{marginBottom:"16px"}}}}));function v(e){const[t,a]=Object(b.useState)({}),[d,u]=Object(b.useState)([]),[v,g]=Object(b.useState)([]),[O,x]=Object(b.useState)({});Object(b.useEffect)((()=>{y()}),[]);const f=e=>{let{color:t}=e;return Object(m.jsx)("hr",{style:{color:t,backgroundColor:t,height:5}})},y=async()=>{var e=await p.h.marksIndex();e&&g(e.content);var t=await p.m.statementTimeValidate();t&&x(t.content),t&&console.log(t)},C=e=>{e.persist(),a(Object(r.a)(Object(r.a)({},t),{},{[e.target.name]:e.target.value}))},w=(e,t,a)=>{var r=d;r[t][e.target.name]=parseFloat(e.target.value),u(r)};return Object(m.jsxs)(h,{children:[Object(m.jsx)(o.a,{className:"breadcrumb",children:Object(m.jsx)(s.a,{routeSegments:[{name:"Nouvelle d\xe9claration",path:"dpl/supplier/create/statement"}]})}),Object(m.jsxs)(s.j,{title:"Ajout de d\xe9claration",children:[0===O&&Object(m.jsx)(n.a,{sx:{m:1},severity:"error",variant:"filled",children:"D\xe9claration non permise pour aujourd'hui!"}),Object(m.jsxs)(o.a,{style:{padding:"10px"},children:[Object(m.jsx)(c.a,{color:"primary","aria-label":"Add",size:"small",className:"button",onClick:()=>{u([...d,{mark_id:"",dci_id:"",quantity:0,sale:0,order:0,expiry_date:"",batch_number:0}])},children:Object(m.jsx)(l.a,{children:"add"})}),1===O&&Object(m.jsx)(c.a,{color:"primary","aria-label":"Add",size:"small",className:"button",onClick:()=>(async()=>{await p.k.statementStatusAdd(d)&&u([])})(),children:Object(m.jsx)(l.a,{children:"circle"})}),Object(m.jsx)(f,{color:"#000000"}),d.map(((e,t)=>Object(m.jsxs)("div",{className:"mb-1",children:[Object(m.jsx)(j,{options:v,name:"mark_id",onChange:(e,a)=>(async(e,t,a)=>{t.persist();var r=d;if(r[e].mark_id=a,u(r),r){var o=await p.h.getMarkById(a);o&&console.log("product=",JSON.stringify(o.content))}})(t,e,a.id),getOptionLabel:e=>e.commercial_name,renderInput:e=>Object(m.jsx)(i.a,Object(r.a)(Object(r.a)({onChange:C},e),{},{label:"S\xe9lectionner un m\xe9dicament",variant:"outlined",name:"mark_id",fullWidth:!0}))}),Object(m.jsx)(i.a,{type:"number",name:"quantity",label:"Stock disponible",onChange:e=>w(e,t),validators:["required"],errorMessages:["ce champ est obligatoire"]}),Object(m.jsx)(i.a,{type:"number",name:"order",label:"Commande en cours",onChange:e=>w(e,t),validators:["required"],errorMessages:["ce champ est obligatoire"]}),Object(m.jsx)(i.a,{type:"number",name:"batch_number",label:"Num\xe9ro de lot",onChange:e=>w(e,t),validators:["required"],errorMessages:["ce champ est obligatoire"]}),Object(m.jsx)(c.a,{color:"error","aria-label":"Add",size:"small",className:"button",onClick:()=>(async e=>{console.log(e),console.log(d.filter((t=>e!==d.indexOf(t)))),console.log(d.map((e=>d.indexOf(e))));var t=d.filter((t=>e!==d.indexOf(t)));u(t)})(t),children:Object(m.jsx)(l.a,{children:"remove"})}),Object(m.jsx)(f,{color:"red"})]},"key"+t)))]})]})]})}},597:function(e,t,a){"use strict";var r=a(5),o=a(4),n=a(1),c=a(11),l=a(125),i=a(559),s=a(12),d=a(108),b=a(87),u=a(78);function p(e){return Object(u.a)("MuiFab",e)}var m=Object(b.a)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),j=a(7),h=a(102),v=a(2);const g=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],O=Object(j.a)(i.a,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>Object(h.a)(e)||"classes"===e,overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t["size".concat(Object(s.a)(a.size))],"inherit"===a.color&&t.colorInherit,t[Object(s.a)(a.size)],t[a.color]]}})((e=>{let{theme:t,ownerState:a}=e;var r,n;return Object(o.a)({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:null==(r=(n=t.palette).getContrastText)?void 0:r.call(n,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},["&.".concat(m.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]}},"small"===a.size&&{width:40,height:40},"medium"===a.size&&{width:48,height:48},"extended"===a.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===a.variant&&"small"===a.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===a.variant&&"medium"===a.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===a.color&&{color:"inherit"})}),(e=>{let{theme:t,ownerState:a}=e;return Object(o.a)({},"inherit"!==a.color&&"default"!==a.color&&null!=(t.vars||t).palette[a.color]&&{color:(t.vars||t).palette[a.color].contrastText,backgroundColor:(t.vars||t).palette[a.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[a.color].main}}})}),(e=>{let{theme:t}=e;return{["&.".concat(m.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}})),x=n.forwardRef((function(e,t){const a=Object(d.a)({props:e,name:"MuiFab"}),{children:n,className:i,color:b="default",component:u="button",disabled:m=!1,disableFocusRipple:j=!1,focusVisibleClassName:h,size:x="large",variant:f="circular"}=a,y=Object(r.a)(a,g),C=Object(o.a)({},a,{color:b,component:u,disabled:m,disableFocusRipple:j,size:x,variant:f}),w=(e=>{const{color:t,variant:a,classes:r,size:n}=e,c={root:["root",a,"size".concat(Object(s.a)(n)),"inherit"===t?"colorInherit":t]},i=Object(l.a)(c,p,r);return Object(o.a)({},r,i)})(C);return Object(v.jsx)(O,Object(o.a)({className:Object(c.a)(w.root,i),component:u,disabled:m,focusRipple:!j,focusVisibleClassName:Object(c.a)(w.focusVisible,h),ownerState:C,ref:t},y,{classes:w,children:n}))}));t.a=x},684:function(e,t,a){"use strict";var r=a(5),o=a(4),n=a(1),c=a(11),l=a(125),i=a(28),s=a(7),d=a(108),b=a(206),u=a(12),p=a(562),m=a(87),j=a(78);function h(e){return Object(j.a)("MuiAlert",e)}var v=Object(m.a)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),g=a(565),O=a(88),x=a(2),f=Object(O.a)(Object(x.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),y=Object(O.a)(Object(x.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),C=Object(O.a)(Object(x.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),w=Object(O.a)(Object(x.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),S=a(582);const k=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],z=Object(s.a)(p.a,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t["".concat(a.variant).concat(Object(u.a)(a.color||a.severity))]]}})((e=>{let{theme:t}=e;const a="light"===t.palette.mode?i.darken:i.lighten,r="light"===t.palette.mode?i.lighten:i.darken;return Object(o.a)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:a(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(o,"StandardBg")]:r(t.palette[o].light,.9),["& .".concat(v.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:a(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(v.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[a]=e;return{props:{colorSeverity:a,variant:"filled"},style:Object(o.a)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(a,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(a,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[a].dark:t.palette[a].main,color:t.palette.getContrastText(t.palette[a].main)})}}))]})})),A=Object(s.a)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),M=Object(s.a)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),N=Object(s.a)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),I={success:Object(x.jsx)(f,{fontSize:"inherit"}),warning:Object(x.jsx)(y,{fontSize:"inherit"}),error:Object(x.jsx)(C,{fontSize:"inherit"}),info:Object(x.jsx)(w,{fontSize:"inherit"})},R=n.forwardRef((function(e,t){const a=Object(d.a)({props:e,name:"MuiAlert"}),{action:n,children:i,className:s,closeText:p="Close",color:m,components:j={},componentsProps:v={},icon:O,iconMapping:f=I,onClose:y,role:C="alert",severity:w="success",slotProps:R={},slots:L={},variant:F="standard"}=a,W=Object(r.a)(a,k),B=Object(o.a)({},a,{color:m,severity:w,variant:F,colorSeverity:m||w}),V=(e=>{const{variant:t,color:a,severity:r,classes:o}=e,n={root:["root","color".concat(Object(u.a)(a||r)),"".concat(t).concat(Object(u.a)(a||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return Object(l.a)(n,h,o)})(B),P={slots:Object(o.a)({closeButton:j.CloseButton,closeIcon:j.CloseIcon},L),slotProps:Object(o.a)({},v,R)},[_,T]=Object(b.a)("closeButton",{elementType:g.a,externalForwardedProps:P,ownerState:B}),[H,E]=Object(b.a)("closeIcon",{elementType:S.a,externalForwardedProps:P,ownerState:B});return Object(x.jsxs)(z,Object(o.a)({role:C,elevation:0,ownerState:B,className:Object(c.a)(V.root,s),ref:t},W,{children:[!1!==O?Object(x.jsx)(A,{ownerState:B,className:V.icon,children:O||f[w]||I[w]}):null,Object(x.jsx)(M,{ownerState:B,className:V.message,children:i}),null!=n?Object(x.jsx)(N,{ownerState:B,className:V.action,children:n}):null,null==n&&y?Object(x.jsx)(N,{ownerState:B,className:V.action,children:Object(x.jsx)(_,Object(o.a)({size:"small","aria-label":p,title:p,color:"inherit",onClick:y},T,{children:Object(x.jsx)(H,Object(o.a)({fontSize:"small"},E))}))}):null]}))}));t.a=R}}]);