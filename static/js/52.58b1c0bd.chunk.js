(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[52],{1144:function(e,t,a){"use strict";a.r(t);var n=a(7),c=a(563),r=a(1),i=a(504),s=a(302),o=a(300),l=a(54),d=a(158),j=a(2);const x=Object(n.a)(i.a)((e=>{let{theme:t}=e;return{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",padding:"24px !important",background:t.palette.background.paper,[t.breakpoints.down("sm")]:{padding:"16px !important"}}})),b=Object(n.a)(s.a)((e=>{let{theme:t}=e;return{display:"flex",flexWrap:"wrap",alignItems:"center","& small":{color:t.palette.text.secondary},"& .icon":{opacity:.6,fontSize:"44px",color:t.palette.primary.main}}})),p=Object(n.a)("h6")((e=>{let{theme:t}=e;return{margin:0,marginTop:"4px",fontSize:"14px",fontWeight:"500",color:t.palette.primary.main}}));var u=function(){const[e,t]=Object(r.useState)([]),[a,n]=Object(r.useState)({});return Object(r.useEffect)((()=>{(async()=>{var e=await d.d.Getentitiescountdata();e&&n(e),console.log(e)})(),t([{name:"M\xe9dicaments",attribut:"declared_products_quantity",icon:"view_comfy"},{name:"Total des m\xe9dicaments d\xe9clar\xe9es",attribut:"total_declared_products",icon:"view_comfy"},{name:"Utilisateurs",attribut:"supplier_users_number",icon:"group"},{name:"D\xe9clarations",attribut:"declarations_number",icon:"store"},{name:"D\xe9clarations valid\xe9es",attribut:"validated_declarations_number",icon:"store"},{name:"D\xe9clarations brouillons",attribut:"draft_declarations_number",icon:"store"}])}),[]),Object(j.jsx)(c.a,{container:!0,spacing:1,sx:{mb:"24px"},children:e.map(((e,t)=>Object(j.jsx)(c.a,{item:!0,xs:14,md:4,children:Object(j.jsx)(x,{elevation:1,children:Object(j.jsxs)(b,{children:[Object(j.jsx)(o.a,{className:"icon",children:e.icon}),Object(j.jsxs)(s.a,{ml:"12px",children:[Object(j.jsx)(l.d,{children:e.name}),Object(j.jsxs)(p,{children:[null===a||void 0===a?void 0:a[e.attribut]," "]})]})]})})},t)))})},h=a(661),m=a(37),O=a(1087),g=a(564),f=a(494),v=a(637),w=a(662),y=a(663),S=a(664),_=a(665),D=a(608);const M=Object(n.a)(s.a)((()=>({display:"flex",paddingLeft:"24px",paddingRight:"24px",marginBottom:"12px",alignItems:"center",justifyContent:"space-between"}))),Y=Object(n.a)(h.a)((()=>({minWidth:400,whiteSpace:"pre","& small":{width:50,height:15,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"none"},"& td:first-of-type":{paddingLeft:"16px !important"}}))),k=Object(n.a)("small")((e=>{let{bgcolor:t}=e;return{width:50,height:15,color:"#fff",padding:"2px 8px",borderRadius:"4px",overflow:"hidden",background:t,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"}}));var L=function(){const{palette:e}=Object(m.a)(),t=e.error.main,a=e.primary.main,n=e.secondary.main,c=(new Date).getMonth(),[o,l]=Object(r.useState)([]),[x,b]=Object(r.useState)("5"),[p,u]=Object(r.useState)(c),[h,L]=Object(r.useState)(Object(D.d)((new Date).getMonth())),[z,T]=Object(r.useState)(Object(D.c)((new Date).getMonth())),q=async(e,t)=>{const a=(new Date).getMonth();l([]),u(e),b(t),L(Object(D.d)(2===e?a-e+1:a-e)),T(Object(D.c)(a-e));var n=await d.e.getProductLowest({to:Object(D.d)(2===e?a-e+1:a-e),from:Object(D.c)(a-e),per_page:t});n&&l(n.content)};return Object(r.useEffect)((()=>{q(0,"5"),L(Object(D.d)((new Date).getMonth())),T(Object(D.c)((new Date).getMonth()))}),[]),Object(j.jsxs)(i.a,{elevation:3,sx:{pt:"20px",mb:3},children:[Object(j.jsxs)(M,{children:[Object(j.jsxs)(O.a,{sx:{flex:"1 0 auto"},children:[Object(j.jsx)(g.a,{component:"div",variant:"h7",children:"Les m\xe9dicaments les moins trouv\xe9es en stocks"}),Object(j.jsxs)(g.a,{variant:"subtitle2",color:"text.secondary",component:"div",children:["De ",z," \xe0 ",h]})]}),Object(j.jsxs)(f.a,{onChange:e=>q(e.target.value,x),size:"small",defaultValue:(new Date).getMonth(),children:[Object(j.jsx)(v.a,{value:0,children:"Mois actuel"}),Object(j.jsx)(v.a,{value:1,children:"Le mois dernier"}),Object(j.jsx)(v.a,{value:2,children:"Les deux derniers mois"})]}),Object(j.jsxs)(f.a,{onChange:e=>q(p,e.target.value),size:"small",defaultValue:"5",children:[Object(j.jsx)(v.a,{value:"1",children:"1"}),Object(j.jsx)(v.a,{value:"3",children:"3"}),Object(j.jsx)(v.a,{value:"5",children:"5"}),Object(j.jsx)(v.a,{value:"10",children:"10"}),Object(j.jsx)(v.a,{value:"15",children:"15"})]})]}),Object(j.jsx)(s.a,{overflow:"auto",children:Object(j.jsxs)(Y,{children:[Object(j.jsx)(w.a,{children:Object(j.jsxs)(y.a,{children:[Object(j.jsx)(S.a,{sx:{px:3},colSpan:3,children:"DCI"}),Object(j.jsx)(S.a,{sx:{px:0},align:"center",colSpan:2,children:"Statut du stock"})]})}),Object(j.jsx)(_.a,{children:null===o||void 0===o?void 0:o.map(((e,c)=>Object(j.jsxs)(y.a,{hover:!0,children:[Object(j.jsx)(S.a,{align:"left",colSpan:3,sx:{px:0,textTransform:"capitalize"},children:e.dci_form_dosage.dci.name}),Object(j.jsx)(S.a,{sx:{px:0},align:"center",colSpan:2,children:e.total_quantity?e.total_quantity>e.dci_form_dosage.threshold?Object(j.jsxs)(k,{bgcolor:a,children:[e.total_quantity," En stock"]}):e.total_quantity>0&&e.total_quantity<e.dci_form_dosage.threshold?Object(j.jsxs)(k,{bgcolor:n,children:[e.total_quantity," Disponible(s)"]}):null:Object(j.jsx)(k,{bgcolor:t,children:" En rupture de stock"})})]},c)))})]})})]})},z=a(561);const T=Object(n.a)(s.a)((()=>({display:"flex",paddingLeft:"24px",paddingRight:"24px",marginBottom:"12px",alignItems:"center",justifyContent:"space-between"}))),q=Object(n.a)(h.a)((()=>({minWidth:400,whiteSpace:"pre","& small":{width:50,height:15,borderRadius:500,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"},"& td":{borderBottom:"none"},"& td:first-of-type":{paddingLeft:"16px !important"}}))),E=Object(n.a)("small")((e=>{let{bgcolor:t}=e;return{width:50,height:15,color:"#fff",padding:"2px 8px",borderRadius:"4px",overflow:"hidden",background:t,boxShadow:"0 0 2px 0 rgba(0, 0, 0, 0.12), 0 2px 2px 0 rgba(0, 0, 0, 0.24)"}}));var I=function(){const{palette:e}=Object(m.a)(),t=e.secondary.main,[a,n]=Object(r.useState)([]);return Object(r.useEffect)((()=>{(async()=>{n([]);var e=await d.d.Getusersdata();e&&n(e.content)})((new Date).getMonth())}),[]),Object(j.jsxs)(i.a,{elevation:3,sx:{pt:"20px",mb:3},children:[Object(j.jsx)(T,{children:Object(j.jsx)(O.a,{sx:{flex:"1 0 auto"},children:Object(j.jsx)(g.a,{component:"div",variant:"h7",children:"Liste des utilisateurs du m\xeame d\xe9clarant"})})}),Object(j.jsx)(s.a,{overflow:"auto",children:Object(j.jsxs)(q,{children:[Object(j.jsx)(w.a,{children:Object(j.jsxs)(y.a,{children:[Object(j.jsx)(S.a,{sx:{px:0},colSpan:2,align:"center",children:"Nom complet"}),Object(j.jsx)(S.a,{sx:{px:0},colSpan:2,align:"center",children:"Email"}),Object(j.jsx)(S.a,{sx:{px:0},colSpan:2,align:"center",children:"Information"}),Object(j.jsx)(S.a,{sx:{px:0},colSpan:2,align:"center",children:"D\xe9clarant"})]})}),Object(j.jsx)(_.a,{children:null===a||void 0===a?void 0:a.map(((e,a)=>Object(j.jsxs)(y.a,{hover:!0,children:[Object(j.jsx)(S.a,{colSpan:2,align:"left",sx:{px:0,textTransform:"capitalize"},children:Object(j.jsxs)(s.a,{display:"flex",alignItems:"center",children:[Object(j.jsx)(z.a,{src:e.imgUrl}),Object(j.jsx)(l.c,{sx:{m:0,ml:4},children:e.first_name+" "+e.last_name})]})}),Object(j.jsx)(S.a,{align:"center",colSpan:2,sx:{px:0,textTransform:"capitalize"},children:e.email}),Object(j.jsxs)(S.a,{align:"center",colSpan:2,sx:{px:0,textTransform:"capitalize"},children:[e.address,Object(j.jsx)("br",{})," N\xb0 T\xe9l: ",e.phone_number]}),Object(j.jsx)(S.a,{align:"center",colSpan:2,sx:{px:0,textTransform:"capitalize"},children:e.supplier?Object(j.jsx)(E,{bgcolor:t,children:e.supplier.identifier}):null})]},a)))})]})})]})};const C=Object(n.a)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"}}}));t.default=function(){Object(r.useEffect)((()=>{e()}),[]);const e=async()=>{var e=await d.e.getStatementbyTypeSupplier({to:Object(D.d)((new Date).getMonth()),from:Object(D.c)((new Date).getMonth())});console.log(e.content.sub_result.map((e=>({name:e.type.name,value:e.quantity})))),console.log(e)};return Object(j.jsx)(r.Fragment,{children:Object(j.jsx)(C,{className:"analytics",children:Object(j.jsx)(c.a,{container:!0,spacing:3,children:Object(j.jsxs)(c.a,{item:!0,lg:12,md:12,sm:12,xs:12,children:[Object(j.jsx)(u,{}),Object(j.jsx)(I,{}),Object(j.jsx)(L,{})]})})})})}},608:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return o}));var n=a(586),c=a.n(n);const r=e=>c()(e).format("YYYY-MM-DD"),i=e=>{console.log(e);var t=new Date;return c()(new Date(t.getFullYear(),e,1)).format("YYYY-MM-DD")},s=e=>{var t=new Date;return c()(new Date(t.getFullYear(),e+1,0)).format("YYYY-MM-DD")};function o(e){const t=new Date;return t.setMonth(e-1),t.toLocaleString("en-US",{month:"long"})}}}]);